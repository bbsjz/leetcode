#include <iostream>
#include <vector>
#include <cstring>
#include <map>
using namespace std;
const int N=2600;
int dp[N];
int set[N];//use array to store is enough, sign means cishu,value means num

int lengthOfLIS(vector<int>& nums) {
    dp[1]=1;
    set[1]=nums[0];
    set[0]=-0x3f3f3f3f;
    int re=1;
    int result=1;
    for(int i=0;i<nums.size();i++)
    {
        int l=0,r=re;
        int tmp=nums[i];
        if(tmp<=set[1])
        {
            dp[i+1]=1;
            set[1]=tmp;
        }
        else
        {
            while(l<=r)//find the first one less than tmp
            {
                int mid=l+r>>1;
                if(tmp<=set[mid]) r=mid-1;
                else l=mid+1;
            }
            dp[i+1]=r+1;
            result=max(result,dp[i+1]);
            //I see,here the content is 0,not a new one
            if(set[dp[i+1]]==0) {set[dp[i+1]]=tmp;re=max(dp[i+1],re);}
            else set[dp[i+1]]=min(set[dp[i+1]],tmp);
        }
    }
    return result;
}

int main()
{
                    //1， 1，  1，  2， 2， 2， 3，  1， 3，  2，  3，  4， 4， 2，   3，   3， 3，  4 ，5
    vector<int> v={-147,-171,-584,590,501,13,489,-938,396,-544,-229,697,157,-933,-264,-436,-691,-469,49,
    //4 ，6 ，6 ，7 ，3，  3 ， 8， 5   ，5  ，4 ， 7， 8， 5    9    6    5   7    6   8   9   8    1    9
    -574,694,50,672,-858,-923,974,-157,-507,-907,429,529,-591,802,-351,-606,296,-485,454,540,300,-1000,408,
    //10 7  2    6   8   2   10  10   11  5    7    6   9   10  11   8   12   6     7   9    8   10 
    923,0,-975,-548,62,-990,835,650,733,-611,-385,-580,330,394,566,-191,612,-608,-478,-104,-425,58,
    //5   12  13   9    6   11  12  13   7    2  14    8   7    13  10 11  15    10   4    9    15
    -849,601,851,-208,-810,400,412,571,-535,-995,627,-481,-702,457,-29,375,792,-186,-921,-275,654,
    //9   10   11   6   14   11   3   15  16   5   12   9 12  4     8   13   17  3   16  13   9   10
    -356,-322,-28,-843,527,-266,-970,556,852,-890,169,-413,2,-958,-651,371,895,-994,671,243,-605,-556,
    //
    735,-246,179,-104,-771,658,-554,932,-829,-455,-981,-731,-148,512,-547,-946,-997,-197,864,870,629,-961,
    659,574,543,-501,582,-799,-428,876,-334,115,759,197,-905,275,76,242,357,694,-254,-361,-338,-57,596,786,
    -710,-51,-496,-100,246,-969,874,504,938,931,-365,175,-40,-616,596,440,567,999,15,-363,-256,-578,-869,
    -653,78,-352,882,749,-33,462,-592,-751,761,-96,206,489,34,367,960,68,837,37,-764,-897,72,639,-69,353,
    836,-67,491,126,-171,-532,-757,-358,217,806,712,-32,843,-790,-691,-381,-138,6,-712,153,-184,-544,3,840,
    -561,917,-704,-126,-230,468,963,-993,445,-892,-543,941,-665,58,268,-362,181,-529,684,313,-380,-712,700,
    601,-962,-886,702,439,153,-87,140,583,-323,70,-460,-863,-859,-784,571,169,44,-460,181,883,600,982,-367,
    -191,815,-84,961,-791,-713,149,-499,330,-351,-442,-989,-662,-183,-220,-617,-638,-916,454,604,559,-304,
    -812,526,-891,984,-762,-669,-414,-481,-219,-776,690,-72,-250,-282,-961};
    cout<<lengthOfLIS(v);
    return 0;
}
//1 -1000
//2 -995
//3 -994
//4 -958
//5 -890
//6 -843
//7 -702
//8 -651
//9 -605
//10 -556
//11 -266
//12 2
//13 243
//14 527
//15 556
//16 671
//17 895